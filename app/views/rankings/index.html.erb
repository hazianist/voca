<div class="surface-card ranking-board">
  <div class="page-header">
    <div>
      <p class="eyebrow"><%= t('rankings.index.eyebrow') %></p>
      <h1><%= t('rankings.index.title') %></h1>
      <p class="page-subtitle"><%= t('rankings.index.subtitle_html') %></p>
    </div>
  </div>

  <% if @user_correct_rates.present? %>
    <div class="responsive-table">
      <table class="data-table">
        <thead>
          <tr>
            <th><%= t('rankings.index.table.position') %></th>
            <th><%= t('rankings.index.table.user') %></th>
            <th><%= t('rankings.index.table.rate') %></th>
          </tr>
        </thead>
        <tbody>
          <% @user_correct_rates.each_with_index do |data, index| %>
            <tr class="<%= 'is-highlighted' if data[:user] == current_user %>">
              <td><%= index + 1 %></td>
              <td>
                <% if data[:user] == current_user %>
                  <strong><%= data[:user].username %></strong>
                <% else %>
                  <%= data[:user].username %>
                <% end %>
              </td>
              <td><%= number_to_percentage(data[:correct_rate], precision: 2) %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  <% else %>
    <div class="empty-state">
      <p><%= t('rankings.index.empty_state') %></p>
    </div>
  <% end %>
</div>
