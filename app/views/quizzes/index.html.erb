<div class="surface-card quiz-hub">
  <div class="page-header">
    <div>
      <p class="eyebrow"><%= t('quizzes.index.eyebrow') %></p>
      <h1><%= t('quizzes.index.title') %></h1>
      <p class="page-subtitle"><%= t('quizzes.index.subtitle_html') %></p>
    </div>
    <div class="page-actions">
      <%= button_to t('quizzes.index.actions.start_new'),
                    create_quiz_path,
                    method: :post,
                    class: 'btn btn--primary' %>
    </div>
  </div>

  <% if @quizzes.any? %>
    <div class="responsive-table">
      <table class="data-table">
        <thead>
          <tr>
            <th><%= t('quizzes.index.table.number') %></th>
            <th><%= t('quizzes.index.table.title') %></th>
            <th><%= t('quizzes.index.table.created_at') %></th>
            <th><%= t('quizzes.index.table.score') %></th>
            <th><%= t('quizzes.index.table.actions') %></th>
          </tr>
        </thead>
        <tbody>
          <% base_index = (@quizzes.current_page - 1) * @quizzes.limit_value %>
          <% @quizzes.each_with_index do |quiz, index| %>
            <tr>
              <td><%= base_index + index + 1 %></td>
              <td><%= quiz.title.presence || t('quizzes.index.table.empty_title') %></td>
              <td><%= l(quiz.created_at, format: :short) %></td>
              <td><%= quiz.score.present? ? quiz.score : t('quizzes.index.table.pending_score') %></td>
              <td class="quiz-actions">
                <%= link_to t('quizzes.index.table.view_results'), results_quiz_path(quiz), class: 'btn btn--ghost btn--sm' %>
                <%= link_to t('quizzes.index.table.continue'), continue_quiz_path(quiz), class: 'btn btn--neutral btn--sm' %>
                <%= link_to t('quizzes.index.table.restart'), restart_quiz_path(quiz), class: 'btn btn--neutral btn--sm' %>
                <%= button_to t('quizzes.index.table.delete'),
                              quiz_path(quiz),
                              method: :delete,
                              class: 'btn btn--danger btn--sm',
                              data: { turbo_confirm: t('common.confirmations.delete_quiz') } %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
    <div class="pagination"><%= paginate @quizzes %></div>
  <% else %>
    <div class="empty-state">
      <h3><%= t('quizzes.index.empty_state.title') %></h3>
      <p><%= t('quizzes.index.empty_state.body') %></p>
    </div>
  <% end %>
</div>
